import{s as vt,n as ht,r as mt,c as bt,o as gt}from"../chunks/scheduler.Cs0xm5t1.js";import{S as Et,i as Ct,e as n,s as E,c as o,k as O,f as C,a as N,d as c,l,g as q,h as t,m as Q,n as lt,o as Dt,t as X,b as Z,j as $}from"../chunks/index.Cj_n4G4z.js";import{e as pt,a as ut}from"../chunks/axios.Bvw451kA.js";import{p as Tt}from"../chunks/stores.D67kpedi.js";function ft(d,a,b){const g=d.slice();return g[1]=a[b],g}function _t(d){let a,b,g=d[1].assetName+"",h,y,u,v=d[1].assetState+"",M,k,_,H=d[1].purchaseDate+"",D,s,T,U=d[1].guaranteeEnd+"",j,I,V,A=d[1].personId+"",L,Y,S,x='<button type="button" class="btn btn-primary">Assign</button>',w;return{c(){a=n("tr"),b=n("td"),h=X(g),y=E(),u=n("td"),M=X(v),k=E(),_=n("td"),D=X(H),s=E(),T=n("td"),j=X(U),I=E(),V=n("td"),L=X(A),Y=E(),S=n("td"),S.innerHTML=x,w=E()},l(i){a=o(i,"TR",{});var r=N(a);b=o(r,"TD",{});var R=N(b);h=Z(R,g),R.forEach(c),y=C(r),u=o(r,"TD",{});var B=N(u);M=Z(B,v),B.forEach(c),k=C(r),_=o(r,"TD",{});var W=N(_);D=Z(W,H),W.forEach(c),s=C(r),T=o(r,"TD",{});var F=N(T);j=Z(F,U),F.forEach(c),I=C(r),V=o(r,"TD",{});var P=N(V);L=Z(P,A),P.forEach(c),Y=C(r),S=o(r,"TD",{"data-svelte-h":!0}),O(S)!=="svelte-1j618f3"&&(S.innerHTML=x),w=C(r),r.forEach(c)},m(i,r){q(i,a,r),t(a,b),t(b,h),t(a,y),t(a,u),t(u,M),t(a,k),t(a,_),t(_,D),t(a,s),t(a,T),t(T,j),t(a,I),t(a,V),t(V,L),t(a,Y),t(a,S),t(a,w)},p(i,r){r&1&&g!==(g=i[1].assetName+"")&&$(h,g),r&1&&v!==(v=i[1].assetState+"")&&$(M,v),r&1&&H!==(H=i[1].purchaseDate+"")&&$(D,H),r&1&&U!==(U=i[1].guaranteeEnd+"")&&$(j,U),r&1&&A!==(A=i[1].personId+"")&&$(L,A)},d(i){i&&c(a)}}}function At(d){let a,b="Create Asset",g,h,y,u,v,M="Asset",k,_,H,D,s,T,U="Purchase Date",j,I,V,A,L,Y="guaranteeEnd",S,x,w,i,r="Submit",R,B,W="All Assets",F,P,z,ct='<tr><th scope="col">Name</th> <th scope="col">State</th> <th scope="col">Purchase Date</th> <th scope="col">Guarantee End</th> <th scope="col">Person</th> <th scope="col">Actions</th></tr>',nt,J,ot,it,K=pt(d[0]),m=[];for(let e=0;e<K.length;e+=1)m[e]=_t(ft(d,K,e));return{c(){a=n("h1"),a.textContent=b,g=E(),h=n("form"),y=n("div"),u=n("div"),v=n("label"),v.textContent=M,k=E(),_=n("input"),H=E(),D=n("div"),s=n("div"),T=n("label"),T.textContent=U,j=E(),I=n("input"),V=E(),A=n("div"),L=n("label"),L.textContent=Y,S=E(),x=n("input"),w=E(),i=n("button"),i.textContent=r,R=E(),B=n("h1"),B.textContent=W,F=E(),P=n("table"),z=n("thead"),z.innerHTML=ct,nt=E(),J=n("tbody");for(let e=0;e<m.length;e+=1)m[e].c();this.h()},l(e){a=o(e,"H1",{class:!0,"data-svelte-h":!0}),O(a)!=="svelte-2752g2"&&(a.textContent=b),g=C(e),h=o(e,"FORM",{class:!0});var p=N(h);y=o(p,"DIV",{class:!0});var f=N(y);u=o(f,"DIV",{class:!0});var G=N(u);v=o(G,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),O(v)!=="svelte-1rp1nnd"&&(v.textContent=M),k=C(G),_=o(G,"INPUT",{class:!0,id:!0,type:!0}),G.forEach(c),f.forEach(c),H=C(p),D=o(p,"DIV",{class:!0});var tt=N(D);s=o(tt,"DIV",{class:!0});var et=N(s);T=o(et,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),O(T)!=="svelte-1hiaxaq"&&(T.textContent=U),j=C(et),I=o(et,"INPUT",{class:!0,id:!0,type:!0}),et.forEach(c),V=C(tt),A=o(tt,"DIV",{class:!0});var at=N(A);L=o(at,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),O(L)!=="svelte-e3e46y"&&(L.textContent=Y),S=C(at),x=o(at,"INPUT",{class:!0,id:!0,type:!0}),at.forEach(c),tt.forEach(c),w=C(p),i=o(p,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),O(i)!=="svelte-1rdh4yl"&&(i.textContent=r),p.forEach(c),R=C(e),B=o(e,"H1",{"data-svelte-h":!0}),O(B)!=="svelte-10ruias"&&(B.textContent=W),F=C(e),P=o(e,"TABLE",{class:!0});var st=N(P);z=o(st,"THEAD",{"data-svelte-h":!0}),O(z)!=="svelte-1hvmccl"&&(z.innerHTML=ct),nt=C(st),J=o(st,"TBODY",{});var dt=N(J);for(let rt=0;rt<m.length;rt+=1)m[rt].l(dt);dt.forEach(c),st.forEach(c),this.h()},h(){l(a,"class","mt-3"),l(v,"class","form-label"),l(v,"for","assetName"),l(_,"class","form-control"),l(_,"id","assetName"),l(_,"type","text"),l(u,"class","col"),l(y,"class","row mb-3"),l(T,"class","form-label"),l(T,"for","earnings"),l(I,"class","form-control"),l(I,"id","purchaseDate"),l(I,"type","date"),l(s,"class","col"),l(L,"class","form-label"),l(L,"for","earnings"),l(x,"class","form-control"),l(x,"id","guraranteeEnd"),l(x,"type","date"),l(A,"class","col"),l(D,"class","row mb-3"),l(i,"type","button"),l(i,"class","btn btn-primary"),l(h,"class","mb-5"),l(P,"class","table")},m(e,p){q(e,a,p),q(e,g,p),q(e,h,p),t(h,y),t(y,u),t(u,v),t(u,k),t(u,_),Q(_,d[1].assetName),t(h,H),t(h,D),t(D,s),t(s,T),t(s,j),t(s,I),Q(I,d[1].purchaseDate),t(D,V),t(D,A),t(A,L),t(A,S),t(A,x),Q(x,d[1].guaranteeEnd),t(h,w),t(h,i),q(e,R,p),q(e,B,p),q(e,F,p),q(e,P,p),t(P,z),t(P,nt),t(P,J);for(let f=0;f<m.length;f+=1)m[f]&&m[f].m(J,null);ot||(it=[lt(_,"input",d[3]),lt(I,"input",d[4]),lt(x,"input",d[5]),lt(i,"click",d[2])],ot=!0)},p(e,[p]){if(p&2&&_.value!==e[1].assetName&&Q(_,e[1].assetName),p&2&&Q(I,e[1].purchaseDate),p&2&&Q(x,e[1].guaranteeEnd),p&1){K=pt(e[0]);let f;for(f=0;f<K.length;f+=1){const G=ft(e,K,f);m[f]?m[f].p(G,p):(m[f]=_t(G),m[f].c(),m[f].m(J,null))}for(;f<m.length;f+=1)m[f].d(1);m.length=K.length}},i:ht,o:ht,d(e){e&&(c(a),c(g),c(h),c(R),c(B),c(F),c(P)),Dt(m,e),ot=!1,mt(it)}}}function Nt(d,a,b){let g;bt(d,Tt,s=>b(7,g=s));const h=g.url.origin;let y=[],u={assetName:null,purchaseDate:null,guaranteeEnd:null,assetState:null,personId:null};gt(()=>{v(),M()});function v(){ut.get(h+"/api/asset").then(s=>b(0,y=s.data)).catch(s=>{alert("Could not get assets"),console.log(s)})}function M(){ut.get(h+"/api/person").then(s=>s.data).catch(s=>{alert("Could not get persons"),console.log(s)})}function k(){ut.post(h+"/api/asset",u,{headers:{"Content-Type":"application/json"}}).then(s=>{alert("Asset created"),v()}).catch(s=>{alert("Could not create asset"),console.log(s)})}function _(){u.assetName=this.value,b(1,u)}function H(){u.purchaseDate=this.value,b(1,u)}function D(){u.guaranteeEnd=this.value,b(1,u)}return[y,u,k,_,H,D]}class Pt extends Et{constructor(a){super(),Ct(this,a,Nt,At,vt,{})}}export{Pt as component};
