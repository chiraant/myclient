import{s as xe,e as Ze,n as De,c as ke,o as $e,f as ze,r as Oe}from"../chunks/scheduler.tEsTVdbL.js";import{S as et,i as tt,s as y,e as _,f as O,c as p,a as N,l as L,d as c,m as C,n as Y,g as S,h as u,q as Ne,o as x,r as ye,t as ae,b as oe,j as de,v as Re,u as He}from"../chunks/index.ATyCX7m3.js";import{e as be}from"../chunks/each.D6YF6ztN.js";import{p as st}from"../chunks/stores.DEvQB3Qe.js";import{a as re}from"../chunks/axios.9PTFF6AP.js";import{j as lt,i as nt,u as at}from"../chunks/store.BPjqBYyb.js";import"../chunks/auth0-spa-js.production.esm.D13UjCU2.js";import"../chunks/entry.DE2uegLE.js";function Le(t,e,s){const l=t.slice();return l[37]=e[s],l[39]=s,l}function Me(t,e,s){const l=t.slice();return l[10]=e[s],l[40]=e,l[41]=s,l}function Fe(t,e,s){const l=t.slice();return l[42]=e[s],l}function ot(t){let e,s=t[4]?"Hide Message Form":"Send a message or a demand to the Administrator",l,f,o,n,r,m,P="Send Message",E,v,A;return{c(){e=_("button"),l=ae(s),f=y(),o=_("div"),n=_("textarea"),r=y(),m=_("button"),m.textContent=P,this.h()},l(d){e=p(d,"BUTTON",{class:!0});var i=N(e);l=oe(i,s),i.forEach(c),f=O(d),o=p(d,"DIV",{class:!0});var g=N(o);n=p(g,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),N(n).forEach(c),r=O(g),m=p(g,"BUTTON",{"data-svelte-h":!0}),L(m)!=="svelte-1i47fva"&&(m.textContent=P),g.forEach(c),this.h()},h(){C(e,"class","accordion-button svelte-o33m4w"),C(n,"class","message-textarea svelte-o33m4w"),C(n,"placeholder","Write your message here for the administrator"),C(n,"rows","4"),C(o,"class",E=ze(t[4]?"user-message-form active":"user-message-form")+" svelte-o33m4w")},m(d,i){S(d,e,i),u(e,l),S(d,f,i),S(d,o,i),u(o,n),Y(n,t[3]),u(o,r),u(o,m),v||(A=[x(e,"click",t[18]),x(n,"input",t[24]),x(m,"click",t[17])],v=!0)},p(d,i){i[0]&16&&s!==(s=d[4]?"Hide Message Form":"Send a message or a demand to the Administrator")&&de(l,s),i[0]&8&&Y(n,d[3]),i[0]&16&&E!==(E=ze(d[4]?"user-message-form active":"user-message-form")+" svelte-o33m4w")&&C(o,"class",E)},d(d){d&&(c(e),c(f),c(o)),v=!1,Oe(A)}}}function it(t){let e,s="Create Asset",l,f,o,n,r,m="Asset name",P,E,v,A,d,i,g="Purchase Date",a,T,V,R,U,$="Guarantee End",J,j,K,I,B="Submit",F,D;return{c(){e=_("h1"),e.textContent=s,l=y(),f=_("form"),o=_("div"),n=_("div"),r=_("label"),r.textContent=m,P=y(),E=_("input"),v=y(),A=_("div"),d=_("div"),i=_("label"),i.textContent=g,a=y(),T=_("input"),V=y(),R=_("div"),U=_("label"),U.textContent=$,J=y(),j=_("input"),K=y(),I=_("button"),I.textContent=B,this.h()},l(z){e=p(z,"H1",{class:!0,"data-svelte-h":!0}),L(e)!=="svelte-2752g2"&&(e.textContent=s),l=O(z),f=p(z,"FORM",{class:!0});var M=N(f);o=p(M,"DIV",{class:!0});var le=N(o);n=p(le,"DIV",{class:!0});var q=N(n);r=p(q,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),L(r)!=="svelte-irrc7u"&&(r.textContent=m),P=O(q),E=p(q,"INPUT",{class:!0,id:!0,type:!0}),q.forEach(c),le.forEach(c),v=O(M),A=p(M,"DIV",{class:!0});var ee=N(A);d=p(ee,"DIV",{class:!0});var ne=N(d);i=p(ne,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),L(i)!=="svelte-1hiaxaq"&&(i.textContent=g),a=O(ne),T=p(ne,"INPUT",{class:!0,id:!0,type:!0}),ne.forEach(c),V=O(ee),R=p(ee,"DIV",{class:!0});var Z=N(R);U=p(Z,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),L(U)!=="svelte-enlo2c"&&(U.textContent=$),J=O(Z),j=p(Z,"INPUT",{class:!0,id:!0,type:!0}),Z.forEach(c),ee.forEach(c),K=O(M),I=p(M,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),L(I)!=="svelte-7ibw7x"&&(I.textContent=B),M.forEach(c),this.h()},h(){C(e,"class","mt-3"),C(r,"class","form-label"),C(r,"for","assetName"),C(E,"class","form-control"),C(E,"id","assetName"),C(E,"type","text"),C(n,"class","col"),C(o,"class","row mb-3"),C(i,"class","form-label"),C(i,"for","earnings"),C(T,"class","form-control"),C(T,"id","purchaseDate"),C(T,"type","date"),C(d,"class","col"),C(U,"class","form-label"),C(U,"for","earnings"),C(j,"class","form-control"),C(j,"id","guraranteeEnd"),C(j,"type","date"),C(R,"class","col"),C(A,"class","row mb-3"),C(I,"type","button"),C(I,"class","btn btn-primary"),C(f,"class","mb-5")},m(z,M){S(z,e,M),S(z,l,M),S(z,f,M),u(f,o),u(o,n),u(n,r),u(n,P),u(n,E),Y(E,t[10].assetName),u(f,v),u(f,A),u(A,d),u(d,i),u(d,a),u(d,T),Y(T,t[10].purchaseDate),u(A,V),u(A,R),u(R,U),u(R,J),u(R,j),Y(j,t[10].guaranteeEnd),u(f,K),u(f,I),F||(D=[x(E,"input",t[21]),x(T,"input",t[22]),x(j,"input",t[23]),x(I,"click",t[11])],F=!0)},p(z,M){M[0]&1024&&E.value!==z[10].assetName&&Y(E,z[10].assetName),M[0]&1024&&Y(T,z[10].purchaseDate),M[0]&1024&&Y(j,z[10].guaranteeEnd)},d(z){z&&(c(e),c(l),c(f)),F=!1,Oe(D)}}}function Ve(t){let e,s="Actions";return{c(){e=_("th"),e.textContent=s,this.h()},l(l){e=p(l,"TH",{scope:!0,"data-svelte-h":!0}),L(e)!=="svelte-l137bu"&&(e.textContent=s),this.h()},h(){C(e,"scope","col")},m(l,f){S(l,e,f)},d(l){l&&c(e)}}}function qe(t){let e,s,l,f,o,n,r,m;function P(a,T){return a[10].assetState==="Unassigned"?ut:rt}let E=P(t),v=E(t),A=(t[10].assetState==="Assigned"||t[10].assetState==="InRepair")&&We(t),d=t[10].assetState==="Assigned"&&Xe(t),i=t[10].assetState==="InRepair"&&Ye(t),g=t[10].assetState!=="Disposed"&&Je(t);return{c(){e=_("td"),v.c(),s=y(),l=_("td"),A&&A.c(),f=y(),o=_("td"),d&&d.c(),n=y(),i&&i.c(),r=y(),m=_("td"),g&&g.c()},l(a){e=p(a,"TD",{});var T=N(e);v.l(T),T.forEach(c),s=O(a),l=p(a,"TD",{});var V=N(l);A&&A.l(V),V.forEach(c),f=O(a),o=p(a,"TD",{});var R=N(o);d&&d.l(R),n=O(R),i&&i.l(R),R.forEach(c),r=O(a),m=p(a,"TD",{});var U=N(m);g&&g.l(U),U.forEach(c)},m(a,T){S(a,e,T),v.m(e,null),S(a,s,T),S(a,l,T),A&&A.m(l,null),S(a,f,T),S(a,o,T),d&&d.m(o,null),u(o,n),i&&i.m(o,null),S(a,r,T),S(a,m,T),g&&g.m(m,null)},p(a,T){E===(E=P(a))&&v?v.p(a,T):(v.d(1),v=E(a),v&&(v.c(),v.m(e,null))),a[10].assetState==="Assigned"||a[10].assetState==="InRepair"?A?A.p(a,T):(A=We(a),A.c(),A.m(l,null)):A&&(A.d(1),A=null),a[10].assetState==="Assigned"?d?d.p(a,T):(d=Xe(a),d.c(),d.m(o,n)):d&&(d.d(1),d=null),a[10].assetState==="InRepair"?i?i.p(a,T):(i=Ye(a),i.c(),i.m(o,null)):i&&(i.d(1),i=null),a[10].assetState!=="Disposed"?g?g.p(a,T):(g=Je(a),g.c(),g.m(m,null)):g&&(g.d(1),g=null)},d(a){a&&(c(e),c(s),c(l),c(f),c(o),c(r),c(m)),v.d(),A&&A.d(),d&&d.d(),i&&i.d(),g&&g.d()}}}function rt(t){let e;return{c(){e=_("span")},l(s){e=p(s,"SPAN",{}),N(e).forEach(c)},m(s,l){S(s,e,l)},p:De,d(s){s&&c(e)}}}function ut(t){let e,s,l="select Email to assign",f,o,n,r,m,P,E=be(t[7]),v=[];for(let i=0;i<E.length;i+=1)v[i]=Ge(Fe(t,E,i));function A(){t[28].call(e,t[10])}function d(){return t[29](t[10])}return{c(){e=_("select"),s=_("option"),s.textContent=l;for(let i=0;i<v.length;i+=1)v[i].c();f=y(),o=_("button"),n=ae("Assign"),this.h()},l(i){e=p(i,"SELECT",{});var g=N(e);s=p(g,"OPTION",{"data-svelte-h":!0}),L(s)!=="svelte-zpfev4"&&(s.textContent=l);for(let T=0;T<v.length;T+=1)v[T].l(g);g.forEach(c),f=O(i),o=p(i,"BUTTON",{type:!0,class:!0});var a=N(o);n=oe(a,"Assign"),a.forEach(c),this.h()},h(){s.__value="",Y(s,s.__value),t[5][t[10].id]===void 0&&Ze(A),C(o,"type","button"),C(o,"class","btn btn-primary"),o.disabled=r=!t[5][t[10].id]},m(i,g){S(i,e,g),u(e,s);for(let a=0;a<v.length;a+=1)v[a]&&v[a].m(e,null);Ne(e,t[5][t[10].id],!0),S(i,f,g),S(i,o,g),u(o,n),m||(P=[x(e,"change",A),x(o,"click",d)],m=!0)},p(i,g){if(t=i,g[0]&128){E=be(t[7]);let a;for(a=0;a<E.length;a+=1){const T=Fe(t,E,a);v[a]?v[a].p(T,g):(v[a]=Ge(T),v[a].c(),v[a].m(e,null))}for(;a<v.length;a+=1)v[a].d(1);v.length=E.length}g[0]&224&&Ne(e,t[5][t[10].id]),g[0]&224&&r!==(r=!t[5][t[10].id])&&(o.disabled=r)},d(i){i&&(c(e),c(f),c(o)),ye(v,i),m=!1,Oe(P)}}}function Ge(t){let e,s=t[42].email+"",l,f;return{c(){e=_("option"),l=ae(s),this.h()},l(o){e=p(o,"OPTION",{});var n=N(e);l=oe(n,s),n.forEach(c),this.h()},h(){e.__value=f=t[42].email,Y(e,e.__value)},m(o,n){S(o,e,n),u(e,l)},p(o,n){n[0]&128&&s!==(s=o[42].email+"")&&de(l,s),n[0]&128&&f!==(f=o[42].email)&&(e.__value=f,Y(e,e.__value))},d(o){o&&c(e)}}}function We(t){let e,s,l,f,o;function n(){return t[30](t[10])}return{c(){e=_("button"),s=ae("Unassign"),this.h()},l(r){e=p(r,"BUTTON",{type:!0,class:!0});var m=N(e);s=oe(m,"Unassign"),m.forEach(c),this.h()},h(){C(e,"type","button"),C(e,"class","btn btn-warning"),e.disabled=l=t[10].assetState!=="Assigned"&&t[10].assetState!=="InRepair"},m(r,m){S(r,e,m),u(e,s),f||(o=x(e,"click",n),f=!0)},p(r,m){t=r,m[0]&192&&l!==(l=t[10].assetState!=="Assigned"&&t[10].assetState!=="InRepair")&&(e.disabled=l)},d(r){r&&c(e),f=!1,o()}}}function Xe(t){let e,s="To Repair",l,f;function o(){return t[31](t[10])}return{c(){e=_("button"),e.textContent=s,this.h()},l(n){e=p(n,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),L(e)!=="svelte-1j17yxo"&&(e.textContent=s),this.h()},h(){C(e,"type","button"),C(e,"class","btn btn-info")},m(n,r){S(n,e,r),l||(f=x(e,"click",o),l=!0)},p(n,r){t=n},d(n){n&&c(e),l=!1,f()}}}function Ye(t){let e,s="Repaired",l,f;function o(){return t[32](t[10])}return{c(){e=_("button"),e.textContent=s,this.h()},l(n){e=p(n,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),L(e)!=="svelte-15i7xfe"&&(e.textContent=s),this.h()},h(){C(e,"type","button"),C(e,"class","btn btn-success")},m(n,r){S(n,e,r),l||(f=x(e,"click",o),l=!0)},p(n,r){t=n},d(n){n&&c(e),l=!1,f()}}}function Je(t){let e,s="Dispose",l,f;function o(){return t[33](t[10])}return{c(){e=_("button"),e.textContent=s,this.h()},l(n){e=p(n,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),L(e)!=="svelte-vl6hqu"&&(e.textContent=s),this.h()},h(){C(e,"type","button"),C(e,"class","btn btn-danger")},m(n,r){S(n,e,r),l||(f=x(e,"click",o),l=!0)},p(n,r){t=n},d(n){n&&c(e),l=!1,f()}}}function Ke(t){let e,s,l=t[10].assetName+"",f,o,n,r=t[10].assetState+"",m,P,E,v=t[10].purchaseDate+"",A,d,i,g=t[10].guaranteeEnd+"",a,T,V,R=(t[7].find(K)?t[7].find(I).email:"Not Assinged")+"",U,$,J=t[8]&&t[9].user_roles&&t[9].user_roles.includes("admin"),j;function K(...F){return t[26](t[10],...F)}function I(...F){return t[27](t[10],...F)}let B=J&&qe(t);return{c(){e=_("tr"),s=_("td"),f=ae(l),o=y(),n=_("td"),m=ae(r),P=y(),E=_("td"),A=ae(v),d=y(),i=_("td"),a=ae(g),T=y(),V=_("td"),U=ae(R),$=y(),B&&B.c(),j=y()},l(F){e=p(F,"TR",{});var D=N(e);s=p(D,"TD",{});var z=N(s);f=oe(z,l),z.forEach(c),o=O(D),n=p(D,"TD",{});var M=N(n);m=oe(M,r),M.forEach(c),P=O(D),E=p(D,"TD",{});var le=N(E);A=oe(le,v),le.forEach(c),d=O(D),i=p(D,"TD",{});var q=N(i);a=oe(q,g),q.forEach(c),T=O(D),V=p(D,"TD",{});var ee=N(V);U=oe(ee,R),ee.forEach(c),$=O(D),B&&B.l(D),j=O(D),D.forEach(c)},m(F,D){S(F,e,D),u(e,s),u(s,f),u(e,o),u(e,n),u(n,m),u(e,P),u(e,E),u(E,A),u(e,d),u(e,i),u(i,a),u(e,T),u(e,V),u(V,U),u(e,$),B&&B.m(e,null),u(e,j)},p(F,D){t=F,D[0]&64&&l!==(l=t[10].assetName+"")&&de(f,l),D[0]&64&&r!==(r=t[10].assetState+"")&&de(m,r),D[0]&64&&v!==(v=t[10].purchaseDate+"")&&de(A,v),D[0]&64&&g!==(g=t[10].guaranteeEnd+"")&&de(a,g),D[0]&192&&R!==(R=(t[7].find(K)?t[7].find(I).email:"Not Assinged")+"")&&de(U,R),D[0]&768&&(J=t[8]&&t[9].user_roles&&t[9].user_roles.includes("admin")),J?B?B.p(t,D):(B=qe(t),B.c(),B.m(e,j)):B&&(B.d(1),B=null)},d(F){F&&c(e),B&&B.d()}}}function Qe(t){let e,s,l=t[39]+1+"",f,o;return{c(){e=_("li"),s=_("a"),f=ae(l),o=y(),this.h()},l(n){e=p(n,"LI",{class:!0});var r=N(e);s=p(r,"A",{class:!0,href:!0});var m=N(s);f=oe(m,l),m.forEach(c),o=O(r),r.forEach(c),this.h()},h(){C(s,"class","page-link"),C(s,"href","/assets?pageNumber="+(t[39]+1)),Re(s,"active",t[0]==t[39]+1),C(e,"class","page-item")},m(n,r){S(n,e,r),u(e,s),u(s,f),u(e,o)},p(n,r){r[0]&1&&Re(s,"active",n[0]==n[39]+1)},d(n){n&&c(e)}}}function ft(t){let e,s,l,f,o='<label for="assetState" class="col-form-label">Asset State:</label>',n,r,m,P,E="All",v,A="Assigned",d,i="Unassigned",g,a="In Repair",T,V="Disposed",R,U,$="All Assets",J,j,K,I,B,F="Name",D,z,M="State",le,q,ee="Purchase Date",ne,Z,Ce="Guarantee End",ge,ie,Te="Person",h,w=t[8]&&t[9].user_roles&&t[9].user_roles.includes("admin"),ue,he,Ee,_e,fe,Se,Ie;function Be(b,H){if(H[0]&768&&(e=null),e==null&&(e=!!(b[8]&&b[9].user_roles&&b[9].user_roles.includes("admin"))),e)return it;if(b[8])return ot}let pe=Be(t,[-1,-1]),X=pe&&pe(t),Q=w&&Ve(),me=be(t[6]),G=[];for(let b=0;b<me.length;b+=1)G[b]=Ke(Me(t,me,b));let ve=be(Array(t[1])),W=[];for(let b=0;b<ve.length;b+=1)W[b]=Qe(Le(t,ve,b));return{c(){X&&X.c(),s=y(),l=_("div"),f=_("div"),f.innerHTML=o,n=y(),r=_("div"),m=_("select"),P=_("option"),P.textContent=E,v=_("option"),v.textContent=A,d=_("option"),d.textContent=i,g=_("option"),g.textContent=a,T=_("option"),T.textContent=V,R=y(),U=_("h1"),U.textContent=$,J=y(),j=_("table"),K=_("thead"),I=_("tr"),B=_("th"),B.textContent=F,D=y(),z=_("th"),z.textContent=M,le=y(),q=_("th"),q.textContent=ee,ne=y(),Z=_("th"),Z.textContent=Ce,ge=y(),ie=_("th"),ie.textContent=Te,h=y(),Q&&Q.c(),ue=y(),he=_("tbody");for(let b=0;b<G.length;b+=1)G[b].c();Ee=y(),_e=_("nav"),fe=_("ul");for(let b=0;b<W.length;b+=1)W[b].c();this.h()},l(b){X&&X.l(b),s=O(b),l=p(b,"DIV",{class:!0});var H=N(l);f=p(H,"DIV",{class:!0,"data-svelte-h":!0}),L(f)!=="svelte-1dnqikf"&&(f.innerHTML=o),n=O(H),r=p(H,"DIV",{class:!0});var k=N(r);m=p(k,"SELECT",{class:!0,id:!0,type:!0});var te=N(m);P=p(te,"OPTION",{"data-svelte-h":!0}),L(P)!=="svelte-zg56oz"&&(P.textContent=E),v=p(te,"OPTION",{"data-svelte-h":!0}),L(v)!=="svelte-1o96vym"&&(v.textContent=A),d=p(te,"OPTION",{"data-svelte-h":!0}),L(d)!=="svelte-1ypw53i"&&(d.textContent=i),g=p(te,"OPTION",{"data-svelte-h":!0}),L(g)!=="svelte-ovilxi"&&(g.textContent=a),T=p(te,"OPTION",{"data-svelte-h":!0}),L(T)!=="svelte-hoxvee"&&(T.textContent=V),te.forEach(c),k.forEach(c),H.forEach(c),R=O(b),U=p(b,"H1",{"data-svelte-h":!0}),L(U)!=="svelte-10ruias"&&(U.textContent=$),J=O(b),j=p(b,"TABLE",{class:!0});var Ae=N(j);K=p(Ae,"THEAD",{});var Pe=N(K);I=p(Pe,"TR",{});var se=N(I);B=p(se,"TH",{scope:!0,"data-svelte-h":!0}),L(B)!=="svelte-z0rb3w"&&(B.textContent=F),D=O(se),z=p(se,"TH",{scope:!0,"data-svelte-h":!0}),L(z)!=="svelte-66wttk"&&(z.textContent=M),le=O(se),q=p(se,"TH",{scope:!0,"data-svelte-h":!0}),L(q)!=="svelte-1euyrxw"&&(q.textContent=ee),ne=O(se),Z=p(se,"TH",{scope:!0,"data-svelte-h":!0}),L(Z)!=="svelte-q407ge"&&(Z.textContent=Ce),ge=O(se),ie=p(se,"TH",{scope:!0,"data-svelte-h":!0}),L(ie)!=="svelte-1e495jq"&&(ie.textContent=Te),h=O(se),Q&&Q.l(se),se.forEach(c),Pe.forEach(c),ue=O(Ae),he=p(Ae,"TBODY",{});var we=N(he);for(let ce=0;ce<G.length;ce+=1)G[ce].l(we);we.forEach(c),Ae.forEach(c),Ee=O(b),_e=p(b,"NAV",{});var Ue=N(_e);fe=p(Ue,"UL",{class:!0});var je=N(fe);for(let ce=0;ce<W.length;ce+=1)W[ce].l(je);je.forEach(c),Ue.forEach(c),this.h()},h(){C(f,"class","col-auto"),P.__value="",Y(P,P.__value),v.__value="Assigned",Y(v,v.__value),d.__value="Unassigned",Y(d,d.__value),g.__value="InRepair",Y(g,g.__value),T.__value="Disposed",Y(T,T.__value),C(m,"class","form-select"),C(m,"id","state"),C(m,"type","text"),t[2]===void 0&&Ze(()=>t[25].call(m)),C(r,"class","col-3"),C(l,"class","row my-3"),C(B,"scope","col"),C(z,"scope","col"),C(q,"scope","col"),C(Z,"scope","col"),C(ie,"scope","col"),C(j,"class","table"),C(fe,"class","pagination")},m(b,H){X&&X.m(b,H),S(b,s,H),S(b,l,H),u(l,f),u(l,n),u(l,r),u(r,m),u(m,P),u(m,v),u(m,d),u(m,g),u(m,T),Ne(m,t[2],!0),S(b,R,H),S(b,U,H),S(b,J,H),S(b,j,H),u(j,K),u(K,I),u(I,B),u(I,D),u(I,z),u(I,le),u(I,q),u(I,ne),u(I,Z),u(I,ge),u(I,ie),u(I,h),Q&&Q.m(I,null),u(j,ue),u(j,he);for(let k=0;k<G.length;k+=1)G[k]&&G[k].m(he,null);S(b,Ee,H),S(b,_e,H),u(_e,fe);for(let k=0;k<W.length;k+=1)W[k]&&W[k].m(fe,null);Se||(Ie=x(m,"change",t[25]),Se=!0)},p(b,H){if(pe===(pe=Be(b,H))&&X?X.p(b,H):(X&&X.d(1),X=pe&&pe(b),X&&(X.c(),X.m(s.parentNode,s))),H[0]&4&&Ne(m,b[2]),H[0]&768&&(w=b[8]&&b[9].user_roles&&b[9].user_roles.includes("admin")),w?Q||(Q=Ve(),Q.c(),Q.m(I,null)):Q&&(Q.d(1),Q=null),H[0]&127968){me=be(b[6]);let k;for(k=0;k<me.length;k+=1){const te=Me(b,me,k);G[k]?G[k].p(te,H):(G[k]=Ke(te),G[k].c(),G[k].m(he,null))}for(;k<G.length;k+=1)G[k].d(1);G.length=me.length}if(H[0]&3){ve=be(Array(b[1]));let k;for(k=0;k<ve.length;k+=1){const te=Le(b,ve,k);W[k]?W[k].p(te,H):(W[k]=Qe(te),W[k].c(),W[k].m(fe,null))}for(;k<W.length;k+=1)W[k].d(1);W.length=ve.length}},i:De,o:De,d(b){b&&(c(s),c(l),c(R),c(U),c(J),c(j),c(Ee),c(_e)),X&&X.d(b),Q&&Q.d(),ye(G,b),ye(W,b),Se=!1,Ie()}}}let ct=10;function dt(t,e,s){let l,f,o,n;ke(t,lt,h=>s(19,l=h)),ke(t,st,h=>s(20,f=h)),ke(t,nt,h=>s(8,o=h)),ke(t,at,h=>s(9,n=h));const r=f.url.origin;let m,P=0,E,v="",A=!1,d={},i=[],g=[],a={assetName:null,purchaseDate:null,guaranteeEnd:null,assetState:null,personId:null};$e(()=>{V()});function T(){let h=`?pageSize=${ct}&pageNumber=${m-1}`;E&&(h+="&assetState="+E),re.get(`${r}/api/asset`+h,{headers:{"Content-Type":"application/json"+h,Authorization:"Bearer "+l}}).then(w=>{s(6,i=w.data.content),i.forEach(ue=>{s(5,d[ue.id]="",d),s(1,P=w.data.totalPages)})}).catch(w=>console.error("Error fetching assets",w))}function V(){re.get(r+"/api/person",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+l}}).then(h=>s(7,g=h.data)).catch(h=>{alert("Could not get persons"),console.log(h)})}function R(){re.post(r+"/api/asset",a,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+l}}).then(h=>{alert("Asset created"),T()}).catch(h=>{alert("Could not create asset"),console.log(h)})}function U(h){re.put(`${r}/api/asset/${h}/unassign`,h,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+l}}).then(w=>{alert("Asset unassigned"),T()}).catch(w=>{alert("Failed to unassign asset"),console.log(w)})}function $(h){if(!d[h]){alert("Please select an email to assign");return}const w={assetId:h,personEmail:d[h]};re.put(`${r}/api/service/assignasset`,w,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+l}}).then(ue=>{alert("Asset assigned"),T()}).catch(ue=>{alert("Failed to assign asset"),console.error(ue)})}function J(h){re.put(`${r}/api/asset/${h}/repair`,h,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+l}}).then(w=>{alert("Asset in in repair"),T()}).catch(w=>{alert("Failed to set assetstate to in Repair"),console.log(w)})}function j(h){re.put(`${r}/api/asset/${h}/repaired`,h,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+l}}).then(w=>{alert("Asset is repaired"),T()}).catch(w=>{alert("Failed to set assetstate to in Assigned"),console.log(w)})}function K(h){re.put(`${r}/api/asset/${h}/dispose`,h,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+l}}).then(w=>{alert("Asset is disposed"),T()}).catch(w=>{alert("Failed to set assetstate to disposed"),console.log(w)})}function I(){const h={to:"chiraant@students.zhaw.ch",subject:"Message from User",message:v};re.post(`${r}/api/send-email`,h,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+l}}).then(()=>{alert("Message sent successfully!"),s(3,v=""),B()}).catch(w=>{console.error("Failed to send message:",w),alert("Failed to send message.")})}function B(){s(4,A=!A)}function F(){a.assetName=this.value,s(10,a)}function D(){a.purchaseDate=this.value,s(10,a)}function z(){a.guaranteeEnd=this.value,s(10,a)}function M(){v=this.value,s(3,v)}function le(){E=He(this),s(2,E),s(19,l),s(20,f)}const q=(h,w)=>w.id===h.personId,ee=(h,w)=>w.id===h.personId;function ne(h){d[h.id]=He(this),s(5,d),s(7,g)}const Z=h=>$(h.id),Ce=h=>U(h.id),ge=h=>J(h.id),ie=h=>j(h.id),Te=h=>K(h.id);return t.$$.update=()=>{if(t.$$.dirty[0]&1572864&&l!==""){let h=f.url.searchParams;h.has("pageNumber")?s(0,m=h.get("pageNumber")):s(0,m="1"),h.has("assetState")&&s(2,E=h.get("assetState")),T()}},[m,P,E,v,A,d,i,g,o,n,a,R,U,$,J,j,K,I,B,l,f,F,D,z,M,le,q,ee,ne,Z,Ce,ge,ie,Te]}class Tt extends et{constructor(e){super(),tt(this,e,dt,ft,xe,{},null,[-1,-1])}}export{Tt as component};
