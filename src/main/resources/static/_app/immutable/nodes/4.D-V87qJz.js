import{s as st,e as tt,n as ye,c as Ce,o as nt,r as lt}from"../chunks/scheduler.B2kig3xY.js";import{S as at,i as ot,s as y,e as _,t as ae,f as I,c as h,a as N,l as V,d as u,b as oe,m as b,n as Z,g as P,h as o,q as Ee,o as ne,r as Ie,j as ve,u as Ve,v as qe}from"../chunks/index.CeepxZLI.js";import{e as me}from"../chunks/each.D6YF6ztN.js";import{p as it}from"../chunks/stores.CMwHErJ8.js";import{a as ie}from"../chunks/axios.9PTFF6AP.js";import{j as rt,i as ut,u as ft}from"../chunks/store.cPuX3XdM.js";import"../chunks/auth0-spa-js.production.esm.D13UjCU2.js";import"../chunks/entry.DzdNQODb.js";function Fe(t,e,l){const s=t.slice();return s[32]=e[l],s[34]=l,s}function Ge(t,e,l){const s=t.slice();return s[8]=e[l],s[35]=e,s[36]=l,s}function Me(t,e,l){const s=t.slice();return s[37]=e[l],s}function Ye(t){let e,l="Create Asset",s,f,c,n,i,g="Asset name",O,S,p,A,E,r,m="Purchase Date",a,C,G,B,w,F="Guarantee End",W,q,$,z,j="Submit",H,T;return{c(){e=_("h1"),e.textContent=l,s=y(),f=_("form"),c=_("div"),n=_("div"),i=_("label"),i.textContent=g,O=y(),S=_("input"),p=y(),A=_("div"),E=_("div"),r=_("label"),r.textContent=m,a=y(),C=_("input"),G=y(),B=_("div"),w=_("label"),w.textContent=F,W=y(),q=_("input"),$=y(),z=_("button"),z.textContent=j,this.h()},l(U){e=h(U,"H1",{class:!0,"data-svelte-h":!0}),V(e)!=="svelte-2752g2"&&(e.textContent=l),s=I(U),f=h(U,"FORM",{class:!0});var D=N(f);c=h(D,"DIV",{class:!0});var K=N(c);n=h(K,"DIV",{class:!0});var ee=N(n);i=h(ee,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),V(i)!=="svelte-irrc7u"&&(i.textContent=g),O=I(ee),S=h(ee,"INPUT",{class:!0,id:!0,type:!0}),ee.forEach(u),K.forEach(u),p=I(D),A=h(D,"DIV",{class:!0});var x=N(A);E=h(x,"DIV",{class:!0});var X=N(E);r=h(X,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),V(r)!=="svelte-1hiaxaq"&&(r.textContent=m),a=I(X),C=h(X,"INPUT",{class:!0,id:!0,type:!0}),X.forEach(u),G=I(x),B=h(x,"DIV",{class:!0});var d=N(B);w=h(d,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),V(w)!=="svelte-enlo2c"&&(w.textContent=F),W=I(d),q=h(d,"INPUT",{class:!0,id:!0,type:!0}),d.forEach(u),x.forEach(u),$=I(D),z=h(D,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),V(z)!=="svelte-1rdh4yl"&&(z.textContent=j),D.forEach(u),this.h()},h(){b(e,"class","mt-3"),b(i,"class","form-label"),b(i,"for","assetName"),b(S,"class","form-control"),b(S,"id","assetName"),b(S,"type","text"),b(n,"class","col"),b(c,"class","row mb-3"),b(r,"class","form-label"),b(r,"for","earnings"),b(C,"class","form-control"),b(C,"id","purchaseDate"),b(C,"type","date"),b(E,"class","col"),b(w,"class","form-label"),b(w,"for","earnings"),b(q,"class","form-control"),b(q,"id","guraranteeEnd"),b(q,"type","date"),b(B,"class","col"),b(A,"class","row mb-3"),b(z,"type","button"),b(z,"class","btn btn-primary"),b(f,"class","mb-5")},m(U,D){P(U,e,D),P(U,s,D),P(U,f,D),o(f,c),o(c,n),o(n,i),o(n,O),o(n,S),Z(S,t[8].assetName),o(f,p),o(f,A),o(A,E),o(E,r),o(E,a),o(E,C),Z(C,t[8].purchaseDate),o(A,G),o(A,B),o(B,w),o(B,W),o(B,q),Z(q,t[8].guaranteeEnd),o(f,$),o(f,z),H||(T=[ne(S,"input",t[17]),ne(C,"input",t[18]),ne(q,"input",t[19]),ne(z,"click",t[9])],H=!0)},p(U,D){D[0]&256&&S.value!==U[8].assetName&&Z(S,U[8].assetName),D[0]&256&&Z(C,U[8].purchaseDate),D[0]&256&&Z(q,U[8].guaranteeEnd)},d(U){U&&(u(e),u(s),u(f)),H=!1,lt(T)}}}function Je(t){let e,l="Actions";return{c(){e=_("th"),e.textContent=l,this.h()},l(s){e=h(s,"TH",{scope:!0,"data-svelte-h":!0}),V(e)!=="svelte-l137bu"&&(e.textContent=l),this.h()},h(){b(e,"scope","col")},m(s,f){P(s,e,f)},d(s){s&&u(e)}}}function Ke(t){let e,l,s,f,c,n,i,g;function O(a,C){return a[8].assetState==="Unassigned"?dt:ct}let S=O(t),p=S(t),A=(t[8].assetState==="Assigned"||t[8].assetState==="InRepair")&&We(t),E=t[8].assetState==="Assigned"&&Xe(t),r=t[8].assetState==="InRepair"&&Ze(t),m=t[8].assetState!=="Disposed"&&$e(t);return{c(){e=_("td"),p.c(),l=y(),s=_("td"),A&&A.c(),f=y(),c=_("td"),E&&E.c(),n=y(),r&&r.c(),i=y(),g=_("td"),m&&m.c()},l(a){e=h(a,"TD",{});var C=N(e);p.l(C),C.forEach(u),l=I(a),s=h(a,"TD",{});var G=N(s);A&&A.l(G),G.forEach(u),f=I(a),c=h(a,"TD",{});var B=N(c);E&&E.l(B),n=I(B),r&&r.l(B),B.forEach(u),i=I(a),g=h(a,"TD",{});var w=N(g);m&&m.l(w),w.forEach(u)},m(a,C){P(a,e,C),p.m(e,null),P(a,l,C),P(a,s,C),A&&A.m(s,null),P(a,f,C),P(a,c,C),E&&E.m(c,null),o(c,n),r&&r.m(c,null),P(a,i,C),P(a,g,C),m&&m.m(g,null)},p(a,C){S===(S=O(a))&&p?p.p(a,C):(p.d(1),p=S(a),p&&(p.c(),p.m(e,null))),a[8].assetState==="Assigned"||a[8].assetState==="InRepair"?A?A.p(a,C):(A=We(a),A.c(),A.m(s,null)):A&&(A.d(1),A=null),a[8].assetState==="Assigned"?E?E.p(a,C):(E=Xe(a),E.c(),E.m(c,n)):E&&(E.d(1),E=null),a[8].assetState==="InRepair"?r?r.p(a,C):(r=Ze(a),r.c(),r.m(c,null)):r&&(r.d(1),r=null),a[8].assetState!=="Disposed"?m?m.p(a,C):(m=$e(a),m.c(),m.m(g,null)):m&&(m.d(1),m=null)},d(a){a&&(u(e),u(l),u(s),u(f),u(c),u(i),u(g)),p.d(),A&&A.d(),E&&E.d(),r&&r.d(),m&&m.d()}}}function ct(t){let e;return{c(){e=_("span")},l(l){e=h(l,"SPAN",{}),N(e).forEach(u)},m(l,s){P(l,e,s)},p:ye,d(l){l&&u(e)}}}function dt(t){let e,l,s="select Email to assign",f,c,n,i,g,O,S=me(t[5]),p=[];for(let r=0;r<S.length;r+=1)p[r]=Qe(Me(t,S,r));function A(){t[23].call(e,t[8])}function E(){return t[24](t[8])}return{c(){e=_("select"),l=_("option"),l.textContent=s;for(let r=0;r<p.length;r+=1)p[r].c();f=y(),c=_("button"),n=ae("Assign"),this.h()},l(r){e=h(r,"SELECT",{});var m=N(e);l=h(m,"OPTION",{"data-svelte-h":!0}),V(l)!=="svelte-zpfev4"&&(l.textContent=s);for(let C=0;C<p.length;C+=1)p[C].l(m);m.forEach(u),f=I(r),c=h(r,"BUTTON",{type:!0,class:!0});var a=N(c);n=oe(a,"Assign"),a.forEach(u),this.h()},h(){l.__value="",Z(l,l.__value),t[3][t[8].id]===void 0&&tt(A),b(c,"type","button"),b(c,"class","btn btn-primary"),c.disabled=i=!t[3][t[8].id]},m(r,m){P(r,e,m),o(e,l);for(let a=0;a<p.length;a+=1)p[a]&&p[a].m(e,null);Ee(e,t[3][t[8].id],!0),P(r,f,m),P(r,c,m),o(c,n),g||(O=[ne(e,"change",A),ne(c,"click",E)],g=!0)},p(r,m){if(t=r,m[0]&32){S=me(t[5]);let a;for(a=0;a<S.length;a+=1){const C=Me(t,S,a);p[a]?p[a].p(C,m):(p[a]=Qe(C),p[a].c(),p[a].m(e,null))}for(;a<p.length;a+=1)p[a].d(1);p.length=S.length}m[0]&56&&Ee(e,t[3][t[8].id]),m[0]&56&&i!==(i=!t[3][t[8].id])&&(c.disabled=i)},d(r){r&&(u(e),u(f),u(c)),Ie(p,r),g=!1,lt(O)}}}function Qe(t){let e,l=t[37].email+"",s,f;return{c(){e=_("option"),s=ae(l),this.h()},l(c){e=h(c,"OPTION",{});var n=N(e);s=oe(n,l),n.forEach(u),this.h()},h(){e.__value=f=t[37].email,Z(e,e.__value)},m(c,n){P(c,e,n),o(e,s)},p(c,n){n[0]&32&&l!==(l=c[37].email+"")&&ve(s,l),n[0]&32&&f!==(f=c[37].email)&&(e.__value=f,Z(e,e.__value))},d(c){c&&u(e)}}}function We(t){let e,l,s,f,c;function n(){return t[25](t[8])}return{c(){e=_("button"),l=ae("Unassign"),this.h()},l(i){e=h(i,"BUTTON",{type:!0,class:!0});var g=N(e);l=oe(g,"Unassign"),g.forEach(u),this.h()},h(){b(e,"type","button"),b(e,"class","btn btn-warning"),e.disabled=s=t[8].assetState!=="Assigned"&&t[8].assetState!=="InRepair"},m(i,g){P(i,e,g),o(e,l),f||(c=ne(e,"click",n),f=!0)},p(i,g){t=i,g[0]&48&&s!==(s=t[8].assetState!=="Assigned"&&t[8].assetState!=="InRepair")&&(e.disabled=s)},d(i){i&&u(e),f=!1,c()}}}function Xe(t){let e,l="To Repair",s,f;function c(){return t[26](t[8])}return{c(){e=_("button"),e.textContent=l,this.h()},l(n){e=h(n,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),V(e)!=="svelte-1h0to2k"&&(e.textContent=l),this.h()},h(){b(e,"type","button"),b(e,"class","btn btn-info")},m(n,i){P(n,e,i),s||(f=ne(e,"click",c),s=!0)},p(n,i){t=n},d(n){n&&u(e),s=!1,f()}}}function Ze(t){let e,l="Repaired",s,f;function c(){return t[27](t[8])}return{c(){e=_("button"),e.textContent=l,this.h()},l(n){e=h(n,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),V(e)!=="svelte-1txy6ka"&&(e.textContent=l),this.h()},h(){b(e,"type","button"),b(e,"class","btn btn-success")},m(n,i){P(n,e,i),s||(f=ne(e,"click",c),s=!0)},p(n,i){t=n},d(n){n&&u(e),s=!1,f()}}}function $e(t){let e,l="Dispose",s,f;function c(){return t[28](t[8])}return{c(){e=_("button"),e.textContent=l,this.h()},l(n){e=h(n,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),V(e)!=="svelte-ru4tna"&&(e.textContent=l),this.h()},h(){b(e,"type","button"),b(e,"class","btn btn-danger")},m(n,i){P(n,e,i),s||(f=ne(e,"click",c),s=!0)},p(n,i){t=n},d(n){n&&u(e),s=!1,f()}}}function xe(t){let e,l,s=t[8].assetName+"",f,c,n,i=t[8].assetState+"",g,O,S,p=t[8].purchaseDate+"",A,E,r,m=t[8].guaranteeEnd+"",a,C,G,B=(t[5].find($)?t[5].find(z).email:"Not Assinged")+"",w,F,W=t[6]&&t[7].user_roles&&t[7].user_roles.includes("admin"),q;function $(...H){return t[21](t[8],...H)}function z(...H){return t[22](t[8],...H)}let j=W&&Ke(t);return{c(){e=_("tr"),l=_("td"),f=ae(s),c=y(),n=_("td"),g=ae(i),O=y(),S=_("td"),A=ae(p),E=y(),r=_("td"),a=ae(m),C=y(),G=_("td"),w=ae(B),F=y(),j&&j.c(),q=y()},l(H){e=h(H,"TR",{});var T=N(e);l=h(T,"TD",{});var U=N(l);f=oe(U,s),U.forEach(u),c=I(T),n=h(T,"TD",{});var D=N(n);g=oe(D,i),D.forEach(u),O=I(T),S=h(T,"TD",{});var K=N(S);A=oe(K,p),K.forEach(u),E=I(T),r=h(T,"TD",{});var ee=N(r);a=oe(ee,m),ee.forEach(u),C=I(T),G=h(T,"TD",{});var x=N(G);w=oe(x,B),x.forEach(u),F=I(T),j&&j.l(T),q=I(T),T.forEach(u)},m(H,T){P(H,e,T),o(e,l),o(l,f),o(e,c),o(e,n),o(n,g),o(e,O),o(e,S),o(S,A),o(e,E),o(e,r),o(r,a),o(e,C),o(e,G),o(G,w),o(e,F),j&&j.m(e,null),o(e,q)},p(H,T){t=H,T[0]&16&&s!==(s=t[8].assetName+"")&&ve(f,s),T[0]&16&&i!==(i=t[8].assetState+"")&&ve(g,i),T[0]&16&&p!==(p=t[8].purchaseDate+"")&&ve(A,p),T[0]&16&&m!==(m=t[8].guaranteeEnd+"")&&ve(a,m),T[0]&48&&B!==(B=(t[5].find($)?t[5].find(z).email:"Not Assinged")+"")&&ve(w,B),T[0]&192&&(W=t[6]&&t[7].user_roles&&t[7].user_roles.includes("admin")),W?j?j.p(t,T):(j=Ke(t),j.c(),j.m(e,q)):j&&(j.d(1),j=null)},d(H){H&&u(e),j&&j.d()}}}function et(t){let e,l,s=t[34]+1+"",f,c;return{c(){e=_("li"),l=_("a"),f=ae(s),c=y(),this.h()},l(n){e=h(n,"LI",{class:!0});var i=N(e);l=h(i,"A",{class:!0,href:!0});var g=N(l);f=oe(g,s),g.forEach(u),c=I(i),i.forEach(u),this.h()},h(){b(l,"class","page-link"),b(l,"href","/assets?page="+(t[34]+1)),Ve(l,"active",t[0]==t[34]+1),b(e,"class","page-item")},m(n,i){P(n,e,i),o(e,l),o(l,f),o(e,c)},p(n,i){i[0]&1&&Ve(l,"active",n[0]==n[34]+1)},d(n){n&&u(e)}}}function _t(t){let e=t[6]&&t[7].user_roles&&t[7].user_roles.includes("admin"),l,s,f,c='<label for="assetState" class="col-form-label">Asset State:</label>',n,i,g,O,S="All",p,A="Assigned",E,r="Unassigned",m,a="In Repair",C,G="Disposed",B,w,F,W,q,$,z,j="All Assets",H,T,U,D,K,ee="Name",x,X,d="State",L,te,Pe="Purchase Date",Ae,re,Oe="Guarantee End",Te,ue,Be="Person",ke,Se=t[6]&&t[7].user_roles&&t[7].user_roles.includes("admin"),De,de,be,_e,fe,Ne,we,J=e&&Ye(t),Q=Se&&Je(),he=me(t[4]),M=[];for(let v=0;v<he.length;v+=1)M[v]=xe(Ge(t,he,v));let pe=me(Array(t[1])),Y=[];for(let v=0;v<pe.length;v+=1)Y[v]=et(Fe(t,pe,v));return{c(){J&&J.c(),l=y(),s=_("div"),f=_("div"),f.innerHTML=c,n=y(),i=_("div"),g=_("select"),O=_("option"),O.textContent=S,p=_("option"),p.textContent=A,E=_("option"),E.textContent=r,m=_("option"),m.textContent=a,C=_("option"),C.textContent=G,B=y(),w=_("div"),F=_("a"),W=ae("Apply"),$=y(),z=_("h1"),z.textContent=j,H=y(),T=_("table"),U=_("thead"),D=_("tr"),K=_("th"),K.textContent=ee,x=y(),X=_("th"),X.textContent=d,L=y(),te=_("th"),te.textContent=Pe,Ae=y(),re=_("th"),re.textContent=Oe,Te=y(),ue=_("th"),ue.textContent=Be,ke=y(),Q&&Q.c(),De=y(),de=_("tbody");for(let v=0;v<M.length;v+=1)M[v].c();be=y(),_e=_("nav"),fe=_("ul");for(let v=0;v<Y.length;v+=1)Y[v].c();this.h()},l(v){J&&J.l(v),l=I(v),s=h(v,"DIV",{class:!0});var R=N(s);f=h(R,"DIV",{class:!0,"data-svelte-h":!0}),V(f)!=="svelte-1dnqikf"&&(f.innerHTML=c),n=I(R),i=h(R,"DIV",{class:!0});var k=N(i);g=h(k,"SELECT",{class:!0,id:!0,type:!0});var le=N(g);O=h(le,"OPTION",{"data-svelte-h":!0}),V(O)!=="svelte-1pdfkpo"&&(O.textContent=S),p=h(le,"OPTION",{"data-svelte-h":!0}),V(p)!=="svelte-93w33i"&&(p.textContent=A),E=h(le,"OPTION",{"data-svelte-h":!0}),V(E)!=="svelte-1wknmlq"&&(E.textContent=r),m=h(le,"OPTION",{"data-svelte-h":!0}),V(m)!=="svelte-8t3men"&&(m.textContent=a),C=h(le,"OPTION",{"data-svelte-h":!0}),V(C)!=="svelte-1wjl17a"&&(C.textContent=G),le.forEach(u),k.forEach(u),B=I(R),w=h(R,"DIV",{class:!0});var Le=N(w);F=h(Le,"A",{class:!0,href:!0,role:!0});var Re=N(F);W=oe(Re,"Apply"),Re.forEach(u),Le.forEach(u),R.forEach(u),$=I(v),z=h(v,"H1",{"data-svelte-h":!0}),V(z)!=="svelte-10ruias"&&(z.textContent=j),H=I(v),T=h(v,"TABLE",{class:!0});var ge=N(T);U=h(ge,"THEAD",{});var Ue=N(U);D=h(Ue,"TR",{});var se=N(D);K=h(se,"TH",{scope:!0,"data-svelte-h":!0}),V(K)!=="svelte-z0rb3w"&&(K.textContent=ee),x=I(se),X=h(se,"TH",{scope:!0,"data-svelte-h":!0}),V(X)!=="svelte-66wttk"&&(X.textContent=d),L=I(se),te=h(se,"TH",{scope:!0,"data-svelte-h":!0}),V(te)!=="svelte-1euyrxw"&&(te.textContent=Pe),Ae=I(se),re=h(se,"TH",{scope:!0,"data-svelte-h":!0}),V(re)!=="svelte-q407ge"&&(re.textContent=Oe),Te=I(se),ue=h(se,"TH",{scope:!0,"data-svelte-h":!0}),V(ue)!=="svelte-1e495jq"&&(ue.textContent=Be),ke=I(se),Q&&Q.l(se),se.forEach(u),Ue.forEach(u),De=I(ge),de=h(ge,"TBODY",{});var je=N(de);for(let ce=0;ce<M.length;ce+=1)M[ce].l(je);je.forEach(u),ge.forEach(u),be=I(v),_e=h(v,"NAV",{});var ze=N(_e);fe=h(ze,"UL",{class:!0});var He=N(fe);for(let ce=0;ce<Y.length;ce+=1)Y[ce].l(He);He.forEach(u),ze.forEach(u),this.h()},h(){b(f,"class","col-auto"),O.__value="ALL",Z(O,O.__value),p.__value="ASSIGNED",Z(p,p.__value),E.__value="UNASSIGNED",Z(E,E.__value),m.__value="IN_REPAIR",Z(m,m.__value),C.__value="DISPOSED",Z(C,C.__value),b(g,"class","form-select"),b(g,"id","assetState"),b(g,"type","text"),t[2]===void 0&&tt(()=>t[20].call(g)),b(i,"class","col-3"),b(F,"class","btn btn-primary"),b(F,"href",q="/assets?page=1&assetState="+t[2]),b(F,"role","button"),b(w,"class","col-3"),b(s,"class","row my-3"),b(K,"scope","col"),b(X,"scope","col"),b(te,"scope","col"),b(re,"scope","col"),b(ue,"scope","col"),b(T,"class","table"),b(fe,"class","pagination")},m(v,R){J&&J.m(v,R),P(v,l,R),P(v,s,R),o(s,f),o(s,n),o(s,i),o(i,g),o(g,O),o(g,p),o(g,E),o(g,m),o(g,C),Ee(g,t[2],!0),o(s,B),o(s,w),o(w,F),o(F,W),P(v,$,R),P(v,z,R),P(v,H,R),P(v,T,R),o(T,U),o(U,D),o(D,K),o(D,x),o(D,X),o(D,L),o(D,te),o(D,Ae),o(D,re),o(D,Te),o(D,ue),o(D,ke),Q&&Q.m(D,null),o(T,De),o(T,de);for(let k=0;k<M.length;k+=1)M[k]&&M[k].m(de,null);P(v,be,R),P(v,_e,R),o(_e,fe);for(let k=0;k<Y.length;k+=1)Y[k]&&Y[k].m(fe,null);Ne||(we=ne(g,"change",t[20]),Ne=!0)},p(v,R){if(R[0]&192&&(e=v[6]&&v[7].user_roles&&v[7].user_roles.includes("admin")),e?J?J.p(v,R):(J=Ye(v),J.c(),J.m(l.parentNode,l)):J&&(J.d(1),J=null),R[0]&4&&Ee(g,v[2]),R[0]&4&&q!==(q="/assets?page=1&assetState="+v[2])&&b(F,"href",q),R[0]&192&&(Se=v[6]&&v[7].user_roles&&v[7].user_roles.includes("admin")),Se?Q||(Q=Je(),Q.c(),Q.m(D,null)):Q&&(Q.d(1),Q=null),R[0]&31992){he=me(v[4]);let k;for(k=0;k<he.length;k+=1){const le=Ge(v,he,k);M[k]?M[k].p(le,R):(M[k]=xe(le),M[k].c(),M[k].m(de,null))}for(;k<M.length;k+=1)M[k].d(1);M.length=he.length}if(R[0]&3){pe=me(Array(v[1]));let k;for(k=0;k<pe.length;k+=1){const le=Fe(v,pe,k);Y[k]?Y[k].p(le,R):(Y[k]=et(le),Y[k].c(),Y[k].m(fe,null))}for(;k<Y.length;k+=1)Y[k].d(1);Y.length=pe.length}},i:ye,o:ye,d(v){v&&(u(l),u(s),u($),u(z),u(H),u(T),u(be),u(_e)),J&&J.d(v),Q&&Q.d(),Ie(M,v),Ie(Y,v),Ne=!1,we()}}}let ht=10;function pt(t,e,l){let s,f,c,n;Ce(t,rt,d=>l(15,s=d)),Ce(t,it,d=>l(16,f=d)),Ce(t,ut,d=>l(6,c=d)),Ce(t,ft,d=>l(7,n=d));const i=f.url.origin;let g,O=0,S,p={},A=[],E=[],r={assetName:null,purchaseDate:null,guaranteeEnd:null,assetState:null,personId:null};nt(()=>{a()});function m(){let d="?pageSize="+ht+"&pageNumber="+(g-1);S&&(d+="&state="+S),ie.get(`${i}/api/asset`+d,{headers:{"Content-Type":"application/json"+d,Authorization:"Bearer "+s}}).then(L=>{l(4,A=L.data.content),A.forEach(te=>{l(3,p[te.id]="",p),l(1,O=L.data.totalPages)})}).catch(L=>console.error("Error fetching assets",L))}function a(){ie.get(i+"/api/person",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}}).then(d=>l(5,E=d.data)).catch(d=>{alert("Could not get persons"),console.log(d)})}function C(){ie.post(i+"/api/asset",r,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}}).then(d=>{alert("Asset created"),m()}).catch(d=>{alert("Could not create asset"),console.log(d)})}function G(d){ie.put(`${i}/api/asset/${d}/unassign`,d,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}}).then(L=>{alert("Asset unassigned"),m()}).catch(L=>{alert("Failed to unassign asset"),console.log(L)})}function B(d){if(!p[d]){alert("Please select an email to assign");return}const L={assetId:d,personEmail:p[d]};ie.put(`${i}/api/service/assignasset`,L,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}}).then(te=>{alert("Asset assigned"),m()}).catch(te=>{alert("Failed to assign asset"),console.error(te)})}function w(d){ie.put(`${i}/api/asset/${d}/repair`,d,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}}).then(L=>{alert("Asset in in repair"),m()}).catch(L=>{alert("Failed to set assetstate to in Repair"),console.log(L)})}function F(d){ie.put(`${i}/api/asset/${d}/repaired`,d,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}}).then(L=>{alert("Asset is repaired"),m()}).catch(L=>{alert("Failed to set assetstate to in Assigned"),console.log(L)})}function W(d){ie.put(`${i}/api/asset/${d}/dispose`,d,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}}).then(L=>{alert("Asset is disposed"),m()}).catch(L=>{alert("Failed to set assetstate to disposed"),console.log(L)})}function q(){r.assetName=this.value,l(8,r)}function $(){r.purchaseDate=this.value,l(8,r)}function z(){r.guaranteeEnd=this.value,l(8,r)}function j(){S=qe(this),l(2,S)}const H=(d,L)=>L.id===d.personId,T=(d,L)=>L.id===d.personId;function U(d){p[d.id]=qe(this),l(3,p),l(5,E)}const D=d=>B(d.id),K=d=>G(d.id),ee=d=>w(d.id),x=d=>F(d.id),X=d=>W(d.id);return t.$$.update=()=>{if(t.$$.dirty[0]&98304&&s!==""){let d=f.url.searchParams;d.has("page")?l(0,g=d.get("page")):l(0,g="1"),m()}},[g,O,S,p,A,E,c,n,r,C,G,B,w,F,W,s,f,q,$,z,j,H,T,U,D,K,ee,x,X]}class kt extends at{constructor(e){super(),ot(this,e,pt,_t,st,{},null,[-1,-1])}}export{kt as component};
