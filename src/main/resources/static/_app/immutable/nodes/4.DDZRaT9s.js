import{s as fe,n as ee,c as q,o as he,d as pe,r as _e}from"../chunks/scheduler.D0jLBuvl.js";import{S as me,i as ve,s as A,e as v,f as L,c as T,l as w,a as I,d as C,m as D,g as N,h as c,r as de,n as U,q as ae,o as R,t as F,b as G,j as $,v as Te}from"../chunks/index.BCH3_lsL.js";import{e as Y}from"../chunks/each.D6YF6ztN.js";import{j as be,i as Ce,u as De,a as ne}from"../chunks/axios.E3K1qWMS.js";import{p as ge}from"../chunks/stores.DamwKrFE.js";function se(o,l,n){const s=o.slice();return s[3]=l[n],s}function re(o,l,n){const s=o.slice();return s[16]=l[n],s}function ie(o){let l,n="Create Document",s,h,d,f,m,O="Document Title",E,r,u,b,i,t="Document Type",a,e,g,M="Select Type",J,S,x,te="Upload Date",K,j,Q,B,le="Submit",W,oe,P=Y(o[4]),y=[];for(let p=0;p<P.length;p+=1)y[p]=ce(re(o,P,p));return{c(){l=v("h1"),l.textContent=n,s=A(),h=v("form"),d=v("div"),f=v("div"),m=v("label"),m.textContent=O,E=A(),r=v("input"),u=A(),b=v("div"),i=v("label"),i.textContent=t,a=A(),e=v("select"),g=v("option"),g.textContent=M;for(let p=0;p<y.length;p+=1)y[p].c();J=A(),S=v("div"),x=v("label"),x.textContent=te,K=A(),j=v("input"),Q=A(),B=v("button"),B.textContent=le,this.h()},l(p){l=T(p,"H1",{class:!0,"data-svelte-h":!0}),w(l)!=="svelte-jbgafh"&&(l.textContent=n),s=L(p),h=T(p,"FORM",{class:!0});var k=I(h);d=T(k,"DIV",{class:!0});var _=I(d);f=T(_,"DIV",{class:!0});var H=I(f);m=T(H,"LABEL",{for:!0,"data-svelte-h":!0}),w(m)!=="svelte-12oxed"&&(m.textContent=O),E=L(H),r=T(H,"INPUT",{class:!0,id:!0,type:!0}),H.forEach(C),u=L(_),b=T(_,"DIV",{class:!0});var V=I(b);i=T(V,"LABEL",{for:!0,"data-svelte-h":!0}),w(i)!=="svelte-1kekeuz"&&(i.textContent=t),a=L(V),e=T(V,"SELECT",{class:!0,id:!0});var X=I(e);g=T(X,"OPTION",{"data-svelte-h":!0}),w(g)!=="svelte-j4ygo4"&&(g.textContent=M);for(let Z=0;Z<y.length;Z+=1)y[Z].l(X);X.forEach(C),V.forEach(C),J=L(_),S=T(_,"DIV",{class:!0});var z=I(S);x=T(z,"LABEL",{for:!0,"data-svelte-h":!0}),w(x)!=="svelte-1hc5xcm"&&(x.textContent=te),K=L(z),j=T(z,"INPUT",{class:!0,id:!0,type:!0}),z.forEach(C),_.forEach(C),Q=L(k),B=T(k,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),w(B)!=="svelte-1ak0nw9"&&(B.textContent=le),k.forEach(C),this.h()},h(){D(l,"class","mt-3"),D(m,"for","docTitle"),D(r,"class","form-control"),D(r,"id","docTitle"),D(r,"type","text"),D(f,"class","col"),D(i,"for","docType"),g.__value="",U(g,g.__value),D(e,"class","form-control"),D(e,"id","docType"),o[3].docType===void 0&&pe(()=>o[7].call(e)),D(b,"class","col"),D(x,"for","uploadDate"),D(j,"class","form-control"),D(j,"id","uploadDate"),D(j,"type","date"),D(S,"class","col"),D(d,"class","row mb-3"),D(B,"type","button"),D(B,"class","btn btn-primary"),D(h,"class","mb-5")},m(p,k){N(p,l,k),N(p,s,k),N(p,h,k),c(h,d),c(d,f),c(f,m),c(f,E),c(f,r),U(r,o[3].docTitle),c(d,u),c(d,b),c(b,i),c(b,a),c(b,e),c(e,g);for(let _=0;_<y.length;_+=1)y[_]&&y[_].m(e,null);ae(e,o[3].docType,!0),c(d,J),c(d,S),c(S,x),c(S,K),c(S,j),U(j,o[3].uploadDate),c(h,Q),c(h,B),W||(oe=[R(r,"input",o[6]),R(e,"change",o[7]),R(j,"input",o[8]),R(B,"click",o[5])],W=!0)},p(p,k){if(k&24&&r.value!==p[3].docTitle&&U(r,p[3].docTitle),k&16){P=Y(p[4]);let _;for(_=0;_<P.length;_+=1){const H=re(p,P,_);y[_]?y[_].p(H,k):(y[_]=ce(H),y[_].c(),y[_].m(e,null))}for(;_<y.length;_+=1)y[_].d(1);y.length=P.length}k&24&&ae(e,p[3].docType),k&24&&U(j,p[3].uploadDate)},d(p){p&&(C(l),C(s),C(h)),de(y,p),W=!1,_e(oe)}}}function ce(o){let l,n=o[16]+"",s;return{c(){l=v("option"),s=F(n),this.h()},l(h){l=T(h,"OPTION",{});var d=I(l);s=G(d,n),d.forEach(C),this.h()},h(){l.__value=o[16],U(l,l.__value)},m(h,d){N(h,l,d),c(l,s)},p:ee,d(h){h&&C(l)}}}function ue(o){let l,n,s=o[3].docTitle+"",h,d,f,m=(o[3].docType||"Not Specified")+"",O,E,r,u=o[3].uploadDate+"",b,i;return{c(){l=v("tr"),n=v("td"),h=F(s),d=A(),f=v("td"),O=F(m),E=A(),r=v("td"),b=F(u),i=A()},l(t){l=T(t,"TR",{});var a=I(l);n=T(a,"TD",{});var e=I(n);h=G(e,s),e.forEach(C),d=L(a),f=T(a,"TD",{});var g=I(f);O=G(g,m),g.forEach(C),E=L(a),r=T(a,"TD",{});var M=I(r);b=G(M,u),M.forEach(C),i=L(a),a.forEach(C)},m(t,a){N(t,l,a),c(l,n),c(n,h),c(l,d),c(l,f),c(f,O),c(l,E),c(l,r),c(r,b),c(l,i)},p(t,a){a&1&&s!==(s=t[3].docTitle+"")&&$(h,s),a&1&&m!==(m=(t[3].docType||"Not Specified")+"")&&$(O,m),a&1&&u!==(u=t[3].uploadDate+"")&&$(b,u)},d(t){t&&C(l)}}}function ye(o){let l=o[1]&&o[2].user_roles&&o[2].user_roles.includes("admin"),n,s,h="All Documents",d,f,m,O="<tr><th>Title</th> <th>Type</th> <th>Upload Date</th></tr>",E,r,u=l&&ie(o),b=Y(o[0]),i=[];for(let t=0;t<b.length;t+=1)i[t]=ue(se(o,b,t));return{c(){u&&u.c(),n=A(),s=v("h1"),s.textContent=h,d=A(),f=v("table"),m=v("thead"),m.innerHTML=O,E=A(),r=v("tbody");for(let t=0;t<i.length;t+=1)i[t].c();this.h()},l(t){u&&u.l(t),n=L(t),s=T(t,"H1",{"data-svelte-h":!0}),w(s)!=="svelte-17lkpc5"&&(s.textContent=h),d=L(t),f=T(t,"TABLE",{class:!0});var a=I(f);m=T(a,"THEAD",{"data-svelte-h":!0}),w(m)!=="svelte-tc2lon"&&(m.innerHTML=O),E=L(a),r=T(a,"TBODY",{});var e=I(r);for(let g=0;g<i.length;g+=1)i[g].l(e);e.forEach(C),a.forEach(C),this.h()},h(){D(f,"class","table")},m(t,a){u&&u.m(t,a),N(t,n,a),N(t,s,a),N(t,d,a),N(t,f,a),c(f,m),c(f,E),c(f,r);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(r,null)},p(t,[a]){if(a&6&&(l=t[1]&&t[2].user_roles&&t[2].user_roles.includes("admin")),l?u?u.p(t,a):(u=ie(t),u.c(),u.m(n.parentNode,n)):u&&(u.d(1),u=null),a&1){b=Y(t[0]);let e;for(e=0;e<b.length;e+=1){const g=se(t,b,e);i[e]?i[e].p(g,a):(i[e]=ue(g),i[e].c(),i[e].m(r,null))}for(;e<i.length;e+=1)i[e].d(1);i.length=b.length}},i:ee,o:ee,d(t){t&&(C(n),C(s),C(d),C(f)),u&&u.d(t),de(i,t)}}}function Ee(o,l,n){let s,h,d,f;q(o,be,e=>n(9,s=e)),q(o,ge,e=>n(10,h=e)),q(o,Ce,e=>n(1,d=e)),q(o,De,e=>n(2,f=e));const m=h.url.origin;let O=[],E=["Guarantee","Offer","Invoice","Order","Other"],r={docTitle:"",uploadDate:"",docType:"Other"};he(()=>{u()});function u(){ne.get(m+"/api/doc",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}}).then(e=>{n(0,O=e.data)}).catch(e=>{alert("Could not get documents"),console.log(e)})}function b(){ne.post(m+"/api/doc",r,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}}).then(e=>{alert("Document created"),u()}).catch(e=>{alert("Could not create document"),console.log(e)})}function i(){r.docTitle=this.value,n(3,r),n(4,E)}function t(){r.docType=Te(this),n(3,r),n(4,E)}function a(){r.uploadDate=this.value,n(3,r),n(4,E)}return[O,d,f,r,E,b,i,t,a]}class je extends me{constructor(l){super(),ve(this,l,Ee,ye,fe,{})}}export{je as component};
