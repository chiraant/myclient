import{s as yt,e as kt,n as dt,r as xt,c as ut,o as Ot}from"../chunks/scheduler.B2kig3xY.js";import{S as Lt,i as It,e as c,s as y,c as i,l as V,f as k,a as x,d as u,m as _,n as K,g as M,h as o,q as vt,o as ot,r as Tt,t as W,b as X,j as at,v as jt}from"../chunks/index.CeepxZLI.js";import{e as nt}from"../chunks/each.D6YF6ztN.js";import{a as bt}from"../chunks/axios.9PTFF6AP.js";import{p as At}from"../chunks/stores.CMwHErJ8.js";import{j as Bt,u as Nt}from"../chunks/store.cPuX3XdM.js";function Ct(a,l,s){const r=a.slice();return r[1]=l[s],r}function Dt(a,l,s){const r=a.slice();return r[15]=l[s],r}function gt(a){let l,s=a[15]+"",r;return{c(){l=c("option"),r=W(s),this.h()},l(n){l=i(n,"OPTION",{});var d=x(l);r=X(d,s),d.forEach(u),this.h()},h(){l.__value=a[15],K(l,l.__value)},m(n,d){M(n,l,d),o(l,r)},p:dt,d(n){n&&u(l)}}}function Et(a){let l,s,r=a[1].docTitle+"",n,d,b,g=(a[1].docType||"Not Specified")+"",j,v,m,A=a[1].uploadDate+"",E,O,N,h=a[1].userEmail+"",T,L;return{c(){l=c("tr"),s=c("td"),n=W(r),d=y(),b=c("td"),j=W(g),v=y(),m=c("td"),E=W(A),O=y(),N=c("td"),T=W(h),L=y()},l(I){l=i(I,"TR",{});var p=x(l);s=i(p,"TD",{});var B=x(s);n=X(B,r),B.forEach(u),d=k(p),b=i(p,"TD",{});var S=x(b);j=X(S,g),S.forEach(u),v=k(p),m=i(p,"TD",{});var Q=x(m);E=X(Q,A),Q.forEach(u),O=k(p),N=i(p,"TD",{});var R=x(N);T=X(R,h),R.forEach(u),L=k(p),p.forEach(u)},m(I,p){M(I,l,p),o(l,s),o(s,n),o(l,d),o(l,b),o(b,j),o(l,v),o(l,m),o(m,E),o(l,O),o(l,N),o(N,T),o(l,L)},p(I,p){p&1&&r!==(r=I[1].docTitle+"")&&at(n,r),p&1&&g!==(g=(I[1].docType||"Not Specified")+"")&&at(j,g),p&1&&A!==(A=I[1].uploadDate+"")&&at(E,A),p&1&&h!==(h=I[1].userEmail+"")&&at(T,h)},d(I){I&&u(l)}}}function St(a){let l,s="Create Document",r,n,d,b,g,j="Document Title",v,m,A,E,O,N="Document Type",h,T,L,I="Select Type",p,B,S,Q="Upload Date",R,P,st,U,ht="Submit",Z,z,pt="All Documents",$,w,F,ft="<tr><th>Title</th> <th>Type</th> <th>Upload Date</th> <th>Created by</th></tr>",rt,G,ct,_t,Y=nt(a[2]),C=[];for(let t=0;t<Y.length;t+=1)C[t]=gt(Dt(a,Y,t));let J=nt(a[0]),D=[];for(let t=0;t<J.length;t+=1)D[t]=Et(Ct(a,J,t));return{c(){l=c("h1"),l.textContent=s,r=y(),n=c("form"),d=c("div"),b=c("div"),g=c("label"),g.textContent=j,v=y(),m=c("input"),A=y(),E=c("div"),O=c("label"),O.textContent=N,h=y(),T=c("select"),L=c("option"),L.textContent=I;for(let t=0;t<C.length;t+=1)C[t].c();p=y(),B=c("div"),S=c("label"),S.textContent=Q,R=y(),P=c("input"),st=y(),U=c("button"),U.textContent=ht,Z=y(),z=c("h1"),z.textContent=pt,$=y(),w=c("table"),F=c("thead"),F.innerHTML=ft,rt=y(),G=c("tbody");for(let t=0;t<D.length;t+=1)D[t].c();this.h()},l(t){l=i(t,"H1",{class:!0,"data-svelte-h":!0}),V(l)!=="svelte-jbgafh"&&(l.textContent=s),r=k(t),n=i(t,"FORM",{class:!0});var f=x(n);d=i(f,"DIV",{class:!0});var e=x(d);b=i(e,"DIV",{class:!0});var H=x(b);g=i(H,"LABEL",{for:!0,"data-svelte-h":!0}),V(g)!=="svelte-12oxed"&&(g.textContent=j),v=k(H),m=i(H,"INPUT",{class:!0,id:!0,type:!0}),H.forEach(u),A=k(e),E=i(e,"DIV",{class:!0});var tt=x(E);O=i(tt,"LABEL",{for:!0,"data-svelte-h":!0}),V(O)!=="svelte-1kekeuz"&&(O.textContent=N),h=k(tt),T=i(tt,"SELECT",{class:!0,id:!0});var it=x(T);L=i(it,"OPTION",{"data-svelte-h":!0}),V(L)!=="svelte-j4ygo4"&&(L.textContent=I);for(let q=0;q<C.length;q+=1)C[q].l(it);it.forEach(u),tt.forEach(u),p=k(e),B=i(e,"DIV",{class:!0});var et=x(B);S=i(et,"LABEL",{for:!0,"data-svelte-h":!0}),V(S)!=="svelte-1hc5xcm"&&(S.textContent=Q),R=k(et),P=i(et,"INPUT",{class:!0,id:!0,type:!0}),et.forEach(u),e.forEach(u),st=k(f),U=i(f,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),V(U)!=="svelte-1ak0nw9"&&(U.textContent=ht),f.forEach(u),Z=k(t),z=i(t,"H1",{"data-svelte-h":!0}),V(z)!=="svelte-17lkpc5"&&(z.textContent=pt),$=k(t),w=i(t,"TABLE",{class:!0});var lt=x(w);F=i(lt,"THEAD",{"data-svelte-h":!0}),V(F)!=="svelte-153u9kx"&&(F.innerHTML=ft),rt=k(lt),G=i(lt,"TBODY",{});var mt=x(G);for(let q=0;q<D.length;q+=1)D[q].l(mt);mt.forEach(u),lt.forEach(u),this.h()},h(){_(l,"class","mt-3"),_(g,"for","docTitle"),_(m,"class","form-control"),_(m,"id","docTitle"),_(m,"type","text"),_(b,"class","col"),_(O,"for","docType"),L.__value="",K(L,L.__value),_(T,"class","form-control"),_(T,"id","docType"),a[1].docType===void 0&&kt(()=>a[6].call(T)),_(E,"class","col"),_(S,"for","uploadDate"),_(P,"class","form-control"),_(P,"id","uploadDate"),_(P,"type","date"),_(B,"class","col"),_(d,"class","row mb-3"),_(U,"type","button"),_(U,"class","btn btn-primary"),_(n,"class","mb-5"),_(w,"class","table")},m(t,f){M(t,l,f),M(t,r,f),M(t,n,f),o(n,d),o(d,b),o(b,g),o(b,v),o(b,m),K(m,a[1].docTitle),o(d,A),o(d,E),o(E,O),o(E,h),o(E,T),o(T,L);for(let e=0;e<C.length;e+=1)C[e]&&C[e].m(T,null);vt(T,a[1].docType,!0),o(d,p),o(d,B),o(B,S),o(B,R),o(B,P),K(P,a[1].uploadDate),o(n,st),o(n,U),M(t,Z,f),M(t,z,f),M(t,$,f),M(t,w,f),o(w,F),o(w,rt),o(w,G);for(let e=0;e<D.length;e+=1)D[e]&&D[e].m(G,null);ct||(_t=[ot(m,"input",a[5]),ot(T,"change",a[6]),ot(P,"input",a[7]),ot(U,"click",a[3])],ct=!0)},p(t,[f]){if(f&6&&m.value!==t[1].docTitle&&K(m,t[1].docTitle),f&4){Y=nt(t[2]);let e;for(e=0;e<Y.length;e+=1){const H=Dt(t,Y,e);C[e]?C[e].p(H,f):(C[e]=gt(H),C[e].c(),C[e].m(T,null))}for(;e<C.length;e+=1)C[e].d(1);C.length=Y.length}if(f&6&&vt(T,t[1].docType),f&6&&K(P,t[1].uploadDate),f&1){J=nt(t[0]);let e;for(e=0;e<J.length;e+=1){const H=Ct(t,J,e);D[e]?D[e].p(H,f):(D[e]=Et(H),D[e].c(),D[e].m(G,null))}for(;e<D.length;e+=1)D[e].d(1);D.length=J.length}},i:dt,o:dt,d(t){t&&(u(l),u(r),u(n),u(Z),u(z),u($),u(w)),Tt(C,t),Tt(D,t),ct=!1,xt(_t)}}}function Ht(a,l,s){let r,n,d;ut(a,Bt,h=>s(8,r=h)),ut(a,Nt,h=>s(4,n=h)),ut(a,At,h=>s(9,d=h));const b=d.url.origin;let g=[],j=["Guarantee","Offer","Invoice","Order","Other"],v={docTitle:"",uploadDate:"",docType:"Other",userEmail:n.email};Ot(()=>{m()});function m(){bt.get(b+"/api/doc",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}}).then(h=>{s(0,g=h.data)}).catch(h=>{alert("Could not get documents"),console.log(h)})}function A(){bt.post(b+"/api/doc",{...v,userEmail:n.email},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}}).then(h=>{alert("Document created"),m()}).catch(h=>{alert("Could not create document"),console.log(h)})}function E(){v.docTitle=this.value,s(1,v),s(4,n),s(2,j)}function O(){v.docType=jt(this),s(1,v),s(4,n),s(2,j)}function N(){v.uploadDate=this.value,s(1,v),s(4,n),s(2,j)}return a.$$.update=()=>{a.$$.dirty&16&&n&&n.email&&s(1,v.userEmail=n.email,v)},[g,v,j,A,n,E,O,N]}class qt extends Lt{constructor(l){super(),It(this,l,Ht,St,yt,{})}}export{qt as component};
