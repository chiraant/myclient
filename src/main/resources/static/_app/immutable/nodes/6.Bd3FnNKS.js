import{s as vt,n as ft,r as bt,c as dt,o as Ct}from"../chunks/scheduler.tEsTVdbL.js";import{S as Nt,i as gt,e as i,s as E,c as u,l as M,f as T,a as P,d,m as n,g as w,h as l,n as O,o as K,q as Et,t as lt,b as at,j as st}from"../chunks/index.DgfOQfiT.js";import{e as ht}from"../chunks/each.D6YF6ztN.js";import{a as ot}from"../chunks/axios.9PTFF6AP.js";import{p as Tt}from"../chunks/stores.DEvQB3Qe.js";import{j as yt}from"../chunks/store.BPjqBYyb.js";function pt(m,s,p){const _=m.slice();return _[1]=s[p],_}function _t(m){let s,p,_=m[1].firstName+"",f,v,b,a=m[1].lastName+"",A,D,h,x=m[1].email+"",N,g;return{c(){s=i("tr"),p=i("td"),f=lt(_),v=E(),b=i("td"),A=lt(a),D=E(),h=i("td"),N=lt(x),g=E()},l(r){s=u(r,"TR",{});var e=P(s);p=u(e,"TD",{});var y=P(p);f=at(y,_),y.forEach(d),v=T(e),b=u(e,"TD",{});var U=P(b);A=at(U,a),U.forEach(d),D=T(e),h=u(e,"TD",{});var L=P(h);N=at(L,x),L.forEach(d),g=T(e),e.forEach(d)},m(r,e){w(r,s,e),l(s,p),l(p,f),l(s,v),l(s,b),l(b,A),l(s,D),l(s,h),l(h,N),l(s,g)},p(r,e){e&1&&_!==(_=r[1].firstName+"")&&st(f,_),e&1&&a!==(a=r[1].lastName+"")&&st(A,a),e&1&&x!==(x=r[1].email+"")&&st(N,x)},d(r){r&&d(s)}}}function xt(m){let s,p="Create Person",_,f,v,b,a,A="First Name",D,h,x,N,g,r="Last Name",e,y,U,L,k,nt="Email",Q,B,W,X,Z,I,rt="Submit",R,H,it="All Persons",S,j,q,ut='<tr><th scope="col">First Name</th> <th scope="col">Last Name</th> <th scope="col">Email</th></tr>',$,z,tt,ct,F=ht(m[0]),C=[];for(let t=0;t<F.length;t+=1)C[t]=_t(pt(m,F,t));return{c(){s=i("h1"),s.textContent=p,_=E(),f=i("form"),v=i("div"),b=i("div"),a=i("label"),a.textContent=A,D=E(),h=i("input"),x=E(),N=i("div"),g=i("label"),g.textContent=r,e=E(),y=i("input"),U=E(),L=i("div"),k=i("label"),k.textContent=nt,Q=E(),B=i("input"),W=E(),X=i("br"),Z=E(),I=i("button"),I.textContent=rt,R=E(),H=i("h1"),H.textContent=it,S=E(),j=i("table"),q=i("thead"),q.innerHTML=ut,$=E(),z=i("tbody");for(let t=0;t<C.length;t+=1)C[t].c();this.h()},l(t){s=u(t,"H1",{class:!0,"data-svelte-h":!0}),M(s)!=="svelte-1aynzwh"&&(s.textContent=p),_=T(t),f=u(t,"FORM",{class:!0});var c=P(f);v=u(c,"DIV",{class:!0});var o=P(v);b=u(o,"DIV",{class:!0});var V=P(b);a=u(V,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),M(a)!=="svelte-11trqee"&&(a.textContent=A),D=T(V),h=u(V,"INPUT",{class:!0,id:!0,type:!0}),V.forEach(d),x=T(o),N=u(o,"DIV",{class:!0});var Y=P(N);g=u(Y,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),M(g)!=="svelte-1i4b2vc"&&(g.textContent=r),e=T(Y),y=u(Y,"INPUT",{class:!0,id:!0,type:!0}),Y.forEach(d),U=T(o),L=u(o,"DIV",{class:!0});var G=P(L);k=u(G,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),M(k)!=="svelte-13xn7a2"&&(k.textContent=nt),Q=T(G),B=u(G,"INPUT",{class:!0,id:!0,type:!0}),G.forEach(d),o.forEach(d),W=T(c),X=u(c,"BR",{}),Z=T(c),I=u(c,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),M(I)!=="svelte-2hem41"&&(I.textContent=rt),c.forEach(d),R=T(t),H=u(t,"H1",{"data-svelte-h":!0}),M(H)!=="svelte-1131w5t"&&(H.textContent=it),S=T(t),j=u(t,"TABLE",{class:!0});var J=P(j);q=u(J,"THEAD",{"data-svelte-h":!0}),M(q)!=="svelte-1yoxm7n"&&(q.innerHTML=ut),$=T(J),z=u(J,"TBODY",{});var mt=P(z);for(let et=0;et<C.length;et+=1)C[et].l(mt);mt.forEach(d),J.forEach(d),this.h()},h(){n(s,"class","mt-3"),n(a,"class","form-label"),n(a,"for","firstName"),n(h,"class","form-control"),n(h,"id","firstName"),n(h,"type","text"),n(b,"class","col-sm-6"),n(g,"class","form-label"),n(g,"for","lastName"),n(y,"class","form-control"),n(y,"id","lastName"),n(y,"type","text"),n(N,"class","col-sm-6"),n(k,"class","form-label"),n(k,"for","email"),n(B,"class","form-control"),n(B,"id","email"),n(B,"type","text"),n(L,"class","col-sm-12"),n(v,"class","row mb-3"),n(I,"type","button"),n(I,"class","btn btn-primary"),n(f,"class","mb-5"),n(j,"class","table")},m(t,c){w(t,s,c),w(t,_,c),w(t,f,c),l(f,v),l(v,b),l(b,a),l(b,D),l(b,h),O(h,m[1].firstName),l(v,x),l(v,N),l(N,g),l(N,e),l(N,y),O(y,m[1].lastName),l(v,U),l(v,L),l(L,k),l(L,Q),l(L,B),O(B,m[1].email),l(f,W),l(f,X),l(f,Z),l(f,I),w(t,R,c),w(t,H,c),w(t,S,c),w(t,j,c),l(j,q),l(j,$),l(j,z);for(let o=0;o<C.length;o+=1)C[o]&&C[o].m(z,null);tt||(ct=[K(h,"input",m[3]),K(y,"input",m[4]),K(B,"input",m[5]),K(I,"click",m[2])],tt=!0)},p(t,[c]){if(c&2&&h.value!==t[1].firstName&&O(h,t[1].firstName),c&2&&y.value!==t[1].lastName&&O(y,t[1].lastName),c&2&&B.value!==t[1].email&&O(B,t[1].email),c&1){F=ht(t[0]);let o;for(o=0;o<F.length;o+=1){const V=pt(t,F,o);C[o]?C[o].p(V,c):(C[o]=_t(V),C[o].c(),C[o].m(z,null))}for(;o<C.length;o+=1)C[o].d(1);C.length=F.length}},i:ft,o:ft,d(t){t&&(d(s),d(_),d(f),d(R),d(H),d(S),d(j)),Et(C,t),tt=!1,bt(ct)}}}function Lt(m,s,p){let _,f;dt(m,yt,r=>p(6,_=r)),dt(m,Tt,r=>p(7,f=r));const v=f.url.origin;let b=[],a={firstName:null,lastName:null,email:null};Ct(()=>{A()});function A(){var r={method:"get",url:v+"/api/person",headers:{"Content-Type":"application/json",Authorization:"Bearer "+_}};ot(r).then(function(e){p(0,b=e.data)}).catch(function(e){alert("Could not get persons"),console.log(e)})}function D(){var r={method:"get",url:"https://disify.com/api/email/"+a.email};ot(r).then(function(e){console.log("Validated email "+a.email),console.log(e.data),e.data.format&&!e.data.disposable&&e.data.dns?h():alert("Email "+a.email+" is not valid.")}).catch(function(e){alert("Could not validate email"),console.log(e)})}function h(){var r={method:"post",url:v+"/api/person",headers:{"Content-Type":"application/json",Authorization:"Bearer "+_},data:a};ot(r).then(function(e){alert("Person added"),A()}).catch(function(e){alert("Could not create Person"),console.log(e)})}function x(){a.firstName=this.value,p(1,a)}function N(){a.lastName=this.value,p(1,a)}function g(){a.email=this.value,p(1,a)}return[b,a,D,x,N,g]}class kt extends Nt{constructor(s){super(),gt(this,s,Lt,xt,vt,{})}}export{kt as component};
